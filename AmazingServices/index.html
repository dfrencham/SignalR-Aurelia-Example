<!DOCTYPE html>
<html>
<head>
    <title>SignalR Random Log Hub</title>
    <style type="text/css">
        .title {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-weight: bold;
            font-size: 18px;
            padding-left: 30px;
        }
        .container {
            background-color: #99CCFF;
            font-family: Courier New, Courier, monospace;
            font-size:14px;
            padding: 20px;
            margin: 20px;
            overflow: auto;
            height: 400px;
        }
    </style>
</head>
<body>
    <div class="title">SignalR Server Broadcast Message Log </div>
    <div class="container">
        <ul id="discussion"></ul>
    </div>
    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-1.6.4.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
        $(function () {
            // Declare a proxy to reference the hub.
            var hub = $.connection.logHub;
            hub.on('broadcastMessage', function (message) {
                var output = message.datetime + ' [' + message.type + '] UID: ' + message.id + ' ' + message.desc;
                $('#discussion').prepend('<li>' + output + '</li>');
            });
            $('#message').focus();
            $.connection.hub.start();
        });
    </script>
</body>
</html>